[gd_scene load_steps=6 format=2]

[ext_resource path="res://scenes/2d/interactable/interactable_warp_2d.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/2d/character & player/animated_character_sprite_2d.tscn" type="PackedScene" id=2]
[ext_resource path="res://animations/animated_character_victoria.tres" type="SpriteFrames" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D

export(Rect2) var hole

func _ready():
	WorldGrid.solid_grid.set_solid_at_pixel(global_position, true)

func _on_spin_timer_timeout():
	var _sprite = $animated_character_sprite_2d as AnimatedCharacterSprite2D
	match _sprite.animation:
		\"up\":
			_sprite.set_sprite_direction(Vector2.LEFT)
		\"right\":
			_sprite.set_sprite_direction(Vector2.UP)
		\"left\":
			_sprite.set_sprite_direction(Vector2.DOWN)
		\"down\":
			_sprite.set_sprite_direction(Vector2.RIGHT)
"

[sub_resource type="CanvasItemMaterial" id=2]
blend_mode = 1

[node name="shifting" type="Node2D" groups=["hole"]]
script = SubResource( 1 )

[node name="interactable_2d" parent="." instance=ExtResource( 1 )]

[node name="animated_character_sprite_2d" parent="." instance=ExtResource( 2 )]
modulate = Color( 1, 1, 1, 0.388235 )
material = SubResource( 2 )
frames = ExtResource( 3 )
animation = "down"

[node name="spin_timer" type="Timer" parent="."]
wait_time = 0.2
autostart = true

[connection signal="timeout" from="spin_timer" to="." method="_on_spin_timer_timeout"]
